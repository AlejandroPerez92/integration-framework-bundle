framework:
    secret: "5yg6u543wrftg34"
    validation:      { enable_annotations: true }
    router:
        resource: routing.yml
        strict_requirements: ~

monolog:
    channels: [tracking]
    handlers:
        syslog:
            type: syslog
            level: error
            formatter: smartbox.monolog.formatter.json
        syslog_tracking:
            type: syslog
            level: debug
            formatter: smartbox.monolog.formatter.json
            channels: [tracking]

smartbox_core:
  fixtures_path: "%kernel.root_dir%/JsonFixtures"
  entities_namespaces:
    - 'Smartbox\Integration\Framework\Entity'

smartbox_integration_framework:
    queue_drivers:
        default:
            type: ActiveMQ
            description: Default queue driver
            host: real.smartesb.local
            username: ''
            password: ''
            format: json

        events:
            type: ActiveMQ
            description: Events queue driver
            host: real.smartesb.local
            username: ''
            password: ''
            format: json

    events_queue_driver: events
    default_queue_driver: default

    message_handlers:
        sync:
            description: Message hanlder to handle messages comming from the API
            retries_max: 5
            failed_uri: stomp://internal/sync/failed
            retry_uri: stomp://internal/sync/retry
            throw_exceptions: true
            defer_new_exchanges: false

        async:
            description: Message hanlder to handle messages comming from a queue
            retries_max: 5
            failed_uri: stomp://internal/async/failed
            retry_uri: original
            throw_exceptions: false
            defer_new_exchanges: true

    message_consumers:
        queue.main:
            type: queue
            driver: default
            handler: async

    flows_version: 0

snc_redis:
    clients:
        cache:
            type: predis
            alias: cache
            dsn: redis://localhost
            options:
                profile: 2.2
                connection_timeout: 10
                read_write_timeout: 30

parameters:
  hostname: real.smartesb.local